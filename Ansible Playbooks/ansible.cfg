[defaults]
# Inventory and Authentication
inventory = /etc/ansible/ansible_lab/inventory/hosts.ini
private_key_file = /root/.ssh/id_ed25519
remote_user = ansible
host_key_checking = False

# Roles and Vault
roles_path = /usr/share/ansible/roles:/etc/ansible/roles:$HOME/roles:/etc/ansible/ansible_lab/roles
vault_password_file = /etc/ansible/ansible_lab/secrets/vault_pass

# Performance Optimization - INCREASED FOR n8n
forks = 20
timeout = 60
gather_timeout = 60

# Logging
log_path = /var/log/ansible/ansible.log
retry_files_enabled = False

# Warning Settings
deprecation_warnings = False
command_warnings = False

[persistent_connection]
command_timeout = 60
connect_timeout = 60
connect_retry_timeout = 30

[paramiko_connection]
host_key_auto_add = True
look_for_keys = False

[ssh_connection]
# SSH optimization - combined your settings with performance tweaks
ssh_args = -o ControlMaster=auto -o ControlPersist=60s -o UserKnownHostsFile=/dev/null -o StrictHostKeyChecking=no -o ServerAliveInterval=60
pipelining = True
control_path = /tmp/ansible-ssh-%%h-%%p-%%r

